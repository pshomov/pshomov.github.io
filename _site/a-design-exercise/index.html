<!doctype html>
<!--[if lt IE 7]>
    <html class="no-js lt-ie9 lt-ie8 lt-ie7">
    <![endif]-->
    <!--[if IE 7]>
        <html class="no-js lt-ie9 lt-ie8">
        <![endif]-->
        <!--[if IE 8]>
            <html class="no-js lt-ie9">
            <![endif]-->
            <!--[if gt IE 8]>
                <!-->
                <html class="no-js">
                <!--<![endif]-->
                <meta charset="utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <title></title>
                <meta name="description" content="This is Petar's blog about programming and design">
                <link rel="me" type="text/html" href="http://twitter.com/pshomov">                    
                <link rel='alternate' type='application/atom+xml' title='Atom feed' href='https://pshomov.github.io/atom.xml'>
                <link rel='alternate' type='application/rss+xml' title='RSS feed' href='https://pshomov.github.io/rss.xml'>
                <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />
                <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
                <!-- build:css(.tmp) styles/main.css -->
                <link rel="stylesheet" href="/normalize-css/normalize.css">
                <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
                <link rel="stylesheet" href="/css/site.css">
                <!-- <link rel="stylesheet" href="styles/fonts.css">
 -->
                <!-- endbuild -->
                <script src="https://rawgit.com/natevw/fermata/master/fermata.js"></script>                
                </head>
                
                <body>
                    <!--[if lt IE 7]>
                        <p class="browsehappy">You are using an
                            <strong>outdated</strong>browser. Please
                            <a href="http://browsehappy.com/">upgrade
    your browser</a>to improve your experience.</p>
                    <![endif]-->
                    <!--[if lt IE 9]>
                        <script src="bower_components/es5-shim/es5-shim.js"></script>
                        <script src="bower_components/json3/lib/json3.min.js"></script>
                    <![endif]-->
                    <!-- Add your site or application content here -->
                    <div id="container">
                        <div class="aboutme my_name_is">
                            <div class="picture-of-me block_center"></div>
                            <h4 class="my_name_is">
                                <a href="/introduction">My name is Petar</a>
                            </h4>
                            <h6>This is where I write about the things I find interesting</h6>
                            <div class="hcenter">
                                <span>                                    
                                    <a href="http://github.com/pshomov"><i class="fa fa-github fa-3x badge"></i></a></a>
                                    <a href="http://twitter.com/pshomov"><i class="fa fa-twitter fa-3x badge"></i></a>
                                </span>
                            </div>
                        </div>
                        <div class="content">
  <h1>A design exercise</h1>
  <time>2014-05-07</time>
  <p>So I am all fired up about not sucking so much designing web and mobile apps and I though I really need some exercise. I recently read this great book - <a href="http://www.amazon.com/Design-Hackers-Reverse-Engineering-Beauty/dp/1119998956">Design for Hackers: Reverse Engineering Beauty</a> and I thought - why not start a blog in the rawest form possible and little by little try to make it better. Looking forward to iteration one ;) </p>

  
  <script>
    // parseUri 1.2.2
    // (c) Steven Levithan <stevenlevithan.com>
    // MIT License
    
    function parseUri (str) {
    	var	o   = parseUri.options,
    		m   = o.parser[o.strictMode ? "strict" : "loose"].exec(str),
    		uri = {},
    		i   = 14;
    
    	while (i--) uri[o.key[i]] = m[i] || "";
    
    	uri[o.q.name] = {};
    	uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {
    		if ($1) uri[o.q.name][$1] = $2;
    	});
    
    	return uri;
    };
    
    parseUri.options = {
    	strictMode: false,
    	key: ["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],
    	q:   {
    		name:   "queryKey",
    		parser: /(?:^|&)([^&=]*)=?([^&]*)/g
    	},
    	parser: {
    		strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
    		loose:  /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
    	}
    };
    
  </script>
  <script>
    var site = fermata.json('https://api.github.com');

    var parsed = parseUri(window.location.href);
    if (parsed.queryKey.code){
      // getting back from github with code, need to get a token now
      console.log('got code from the server')
      fermata.json('https://github.com')('login')('oauth')('access_token').post({
        client_id : 'f6549e6114dc291e8e11',
        client_secret : 'ecb68e11ccde5939e84f97c96d136a35630420c5',
        code : parsed.queryKey.code,
        redirect_uri : (window.location.origin + window.location.pathname) 
      }, function(err, data, headers){
        console.log('exchange back')
        console.log('err', err);
        console.log('data', data);
        console.log('header', headers);
        
      })} 
      else     if (parsed.queryKey.access_token){
        console.log('got access_token, checking for user presence')
        site('user').get({access_token : parsed.queryKey.access_token}, function (err, data, headers){
          console.log('user info');
          console.log('err', err);
          console.log('data', data);
          console.log('header', headers);
        });    
      }
      else {
            window.location.href="https://github.com/login/oauth/authorize?client_id=f6549e6114dc291e8e11&state="+Date.now()+"&redirect_uri="+encodeURIComponent(window.location.origin + window.location.pathname);
          }
       
    
//    site('repos','pshomov', 'pshomov.github.io','issues','1', 'comments').get(function (err, data, headers){
//      console.log('err', err);
//      console.log('data', data);
//      console.log('header', headers);
//    });
//    site('repos','pshomov', 'pshomov.github.io','issues','1', 'comments').post({body : 'api generated comment'},function (err, data, headers){
//      console.log('Posting comment');
//      console.log('err', err);
//      console.log('data', data);
//      console.log('header', headers);
//    })
  </script>
</div>
                        <!-- <div class="links">links</div> --></div>
                    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
                    <script>
                        (function(i, s, o, g, r, a, m) {
                            i['GoogleAnalyticsObject'] = r;
                            i[r] = i[r] || function() {
                                (i[r].q = i[r].q || []).push(arguments)
                            }, i[r].l = 1 * new Date();
                            a = s.createElement(o),
                            m = s.getElementsByTagName(o)[0];
                            a.async = 1;
                            a.src = g;
                            m.parentNode.insertBefore(a, m)
                        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                    
                        ga('create', 'UA-50877599-1', 'pshomov.github.io');
                        ga('send', 'pageview');
                    </script>
                </body>
                
                </html>